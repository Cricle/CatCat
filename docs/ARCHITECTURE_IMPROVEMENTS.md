# æ¶æ„ä¼˜åŒ–æ–‡æ¡£

## ğŸ¯ ä¼˜åŒ–ç›®æ ‡

æå‡ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œæ€§èƒ½ï¼ŒåŒæ—¶ä¿æŒ AOT å…¼å®¹æ€§ã€‚

## âœ… å·²å®Œæˆçš„ä¼˜åŒ–

### 1. åç«¯æ¶æ„ä¼˜åŒ–

#### 1.1 å¼•å…¥ CQRS æ¨¡å¼

**ç›®çš„**: åˆ†ç¦»è¯»å†™æ“ä½œï¼Œæå‡ç³»ç»Ÿå¯æ‰©å±•æ€§

**å®ç°**:
- `IQuery<TResult>` - æŸ¥è¯¢æ¥å£
- `ICommand` / `ICommand<TResult>` - å‘½ä»¤æ¥å£
- `IQueryHandler<TQuery, TResult>` - æŸ¥è¯¢å¤„ç†å™¨
- `ICommandHandler<TCommand>` / `ICommandHandler<TCommand, TResult>` - å‘½ä»¤å¤„ç†å™¨

**ä¼˜åŠ¿**:
- è¯»å†™åˆ†ç¦»ï¼ŒèŒè´£å•ä¸€
- ä¾¿äºæ€§èƒ½ä¼˜åŒ–ï¼ˆè¯»å†™å¯åˆ†åˆ«ä¼˜åŒ–ï¼‰
- æ˜“äºæ·»åŠ ç¼“å­˜ç­–ç•¥
- æ”¯æŒè¯»å†™æ•°æ®åº“åˆ†ç¦»

**ä½¿ç”¨ç¤ºä¾‹**:
```csharp
// æŸ¥è¯¢
public record GetOrderByIdQuery(long OrderId) : IQuery<OrderDto>;

public class GetOrderByIdQueryHandler : IQueryHandler<GetOrderByIdQuery, OrderDto>
{
    public async Task<Result<OrderDto>> HandleAsync(
        GetOrderByIdQuery query, 
        CancellationToken cancellationToken)
    {
        // å®ç°æŸ¥è¯¢é€»è¾‘
    }
}

// å‘½ä»¤
public record CreateOrderCommand(/* parameters */) : ICommand<long>;

public class CreateOrderCommandHandler : ICommandHandler<CreateOrderCommand, long>
{
    public async Task<Result<long>> HandleAsync(
        CreateOrderCommand command, 
        CancellationToken cancellationToken)
    {
        // å®ç°å‘½ä»¤é€»è¾‘
    }
}
```

#### 1.2 é¢†åŸŸäº‹ä»¶æ¨¡å¼

**ç›®çš„**: è§£è€¦ä¸šåŠ¡é€»è¾‘ï¼Œæ”¯æŒå¼‚æ­¥äº‹ä»¶å¤„ç†

**å®ç°**:
- `IDomainEvent` - é¢†åŸŸäº‹ä»¶æ¥å£
- `DomainEvent` - é¢†åŸŸäº‹ä»¶åŸºç±»
- `IEventHandler<TEvent>` - äº‹ä»¶å¤„ç†å™¨æ¥å£
- `IEventPublisher` - äº‹ä»¶å‘å¸ƒå™¨æ¥å£
- `InMemoryEventPublisher` - å†…å­˜äº‹ä»¶å‘å¸ƒå™¨å®ç°

**ä¼˜åŠ¿**:
- ä¸šåŠ¡è§£è€¦ï¼Œéµå¾ªå¼€é—­åŸåˆ™
- æ”¯æŒå¤šä¸ªäº‹ä»¶å¤„ç†å™¨
- ä¾¿äºæ·»åŠ å®¡è®¡æ—¥å¿—
- å¯æ‰©å±•è‡³åˆ†å¸ƒå¼äº‹ä»¶æ€»çº¿ï¼ˆNATS/RabbitMQï¼‰

**ä½¿ç”¨ç¤ºä¾‹**:
```csharp
// å®šä¹‰äº‹ä»¶
public record OrderCreatedEvent(
    long OrderId,
    long CustomerId,
    decimal Amount
) : DomainEvent;

// äº‹ä»¶å¤„ç†å™¨
public class OrderCreatedEventHandler : IEventHandler<OrderCreatedEvent>
{
    public async Task HandleAsync(
        OrderCreatedEvent domainEvent, 
        CancellationToken cancellationToken)
    {
        // å‘é€é€šçŸ¥ã€æ›´æ–°ç»Ÿè®¡ç­‰
    }
}

// å‘å¸ƒäº‹ä»¶
await eventPublisher.PublishAsync(
    new OrderCreatedEvent(orderId, customerId, amount)
);
```

#### 1.3 API ç‰ˆæœ¬æ§åˆ¶

**ç›®çš„**: æ”¯æŒ API æ¼”è¿›ï¼Œå‘åå…¼å®¹

**å®ç°**:
- ä½¿ç”¨ `Asp.Versioning` åŒ…
- æ”¯æŒ URL æ®µã€Headerã€Query ä¸‰ç§ç‰ˆæœ¬æ–¹å¼
- é»˜è®¤ç‰ˆæœ¬ v1

**é…ç½®**:
```csharp
services.AddApiVersioning(options =>
{
    options.DefaultApiVersion = new ApiVersion(1);
    options.ReportApiVersions = true;
    options.AssumeDefaultVersionWhenUnspecified = true;
    options.ApiVersionReader = ApiVersionReader.Combine(
        new UrlSegmentApiVersionReader(),
        new HeaderApiVersionReader("X-API-Version"),
        new QueryStringApiVersionReader("api-version")
    );
});
```

**ä½¿ç”¨ç¤ºä¾‹**:
```csharp
// v1 API
app.MapGroup("/api/v1/orders")
    .HasApiVersion(1)
    .MapOrderEndpoints();

// v2 API (æœªæ¥æ‰©å±•)
app.MapGroup("/api/v2/orders")
    .HasApiVersion(2)
    .MapOrderEndpointsV2();
```

### 2. å‰ç«¯æ¶æ„ä¼˜åŒ–

#### 2.1 ç»Ÿä¸€ API Service å±‚

**ç›®çš„**: æ ‡å‡†åŒ– API è°ƒç”¨ï¼Œå‡å°‘é‡å¤ä»£ç 

**å®ç°**:
- `BaseApiService` - åŸºç¡€ API æœåŠ¡ç±»
- å°è£… GET/POST/PUT/DELETE/PATCH æ–¹æ³•
- ç»Ÿä¸€é”™è¯¯å¤„ç†
- ç»Ÿä¸€å“åº”æ ¼å¼

**ä¼˜åŠ¿**:
- ä»£ç å¤ç”¨ï¼Œå‡å°‘é‡å¤
- ç»Ÿä¸€é”™è¯¯å¤„ç†ç­–ç•¥
- æ˜“äºæ·»åŠ æ‹¦æˆªå™¨ï¼ˆè®¤è¯ã€æ—¥å¿—ç­‰ï¼‰
- ç±»å‹å®‰å…¨ï¼ˆTypeScriptï¼‰

**ä½¿ç”¨ç¤ºä¾‹**:
```typescript
// åˆ›å»ºæœåŠ¡
class UserService extends BaseApiService {
  async getProfile(): Promise<UserProfile> {
    return this.get<UserProfile>('/api/users/me')
  }
  
  async updateProfile(data: UpdateProfileRequest): Promise<void> {
    return this.put<void>('/api/users/me', data)
  }
}

// ä½¿ç”¨æœåŠ¡
const userService = new UserService()
const profile = await userService.getProfile()
```

#### 2.2 è¯·æ±‚/å“åº”æ‹¦æˆªå™¨ä¼˜åŒ–

**åŠŸèƒ½**:
- è‡ªåŠ¨æ·»åŠ  JWT Token
- æ·»åŠ è¯·æ±‚è¿½è¸ª ID
- ç»Ÿä¸€é”™è¯¯å¤„ç†ï¼ˆ401/403/404/429/500ï¼‰
- ç½‘ç»œé”™è¯¯å¤„ç†
- è‡ªåŠ¨é€€å‡ºç™»å½•ï¼ˆ401ï¼‰

**ä¼˜åŠ¿**:
- å‡å°‘æ ·æ¿ä»£ç 
- ç»Ÿä¸€ç”¨æˆ·ä½“éªŒ
- ä¾¿äºè°ƒè¯•å’Œè¿½è¸ª
- å¢å¼ºå®‰å…¨æ€§

## ğŸ“ æ›´æ–°åçš„æ¶æ„å›¾

### åç«¯åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   API Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  Endpoints   â”‚  â”‚ Middleware   â”‚                â”‚
â”‚  â”‚  (Routes)    â”‚  â”‚ (Auth/Trace) â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Application Layer (CQRS)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚  Commands   â”‚  â”‚   Queries   â”‚                   â”‚
â”‚  â”‚  (Write)    â”‚  â”‚   (Read)    â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚         â”‚                â”‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚      Event Publisher           â”‚                  â”‚
â”‚  â”‚     (Domain Events)            â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Domain Layer                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚  Entities   â”‚  â”‚   Events    â”‚                   â”‚
â”‚  â”‚  (Business) â”‚  â”‚  (Domain)   â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Infrastructure Layer                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ Repositories â”‚  â”‚   Services   â”‚                 â”‚
â”‚  â”‚  (Data)      â”‚  â”‚  (External)  â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚    Cache     â”‚  â”‚  Message Q   â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å‰ç«¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   View Layer                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚    Pages     â”‚  â”‚  Components  â”‚                â”‚
â”‚  â”‚   (Routes)   â”‚  â”‚   (Reusable) â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Store Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚    Pinia     â”‚  â”‚   Composablesâ”‚                â”‚
â”‚  â”‚   (State)    â”‚  â”‚    (Logic)   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Service Layer (NEW!)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚         API Services                  â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚  â”‚  â”‚  Auth  â”‚  â”‚  User  â”‚  â”‚ Order  â”‚ â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚      Base API Service                â”‚          â”‚
â”‚  â”‚   (HTTP Client + Interceptors)       â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Backend API                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### CQRS æ€§èƒ½ä¼˜åŒ–

1. **è¯»æ“ä½œä¼˜åŒ–**
   - å¯ç›´æ¥æŸ¥è¯¢ç¼“å­˜æˆ–åªè¯»å‰¯æœ¬æ•°æ®åº“
   - æŸ¥è¯¢ç»“æœå¯ä»¥ç¼“å­˜
   - æ”¯æŒå¤šç§æŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥

2. **å†™æ“ä½œä¼˜åŒ–**
   - å‘½ä»¤å¤„ç†ä¸“æ³¨ä¸šåŠ¡é€»è¾‘
   - å¯å¼‚æ­¥å¤„ç†å‰¯ä½œç”¨ï¼ˆé€šè¿‡äº‹ä»¶ï¼‰
   - é¿å…è¯»å–ä¸å¿…è¦çš„æ•°æ®

### å‰ç«¯æ€§èƒ½ä¼˜åŒ–

1. **API è°ƒç”¨ä¼˜åŒ–**
   - è¯·æ±‚å»é‡
   - å“åº”ç¼“å­˜
   - å¹¶å‘è¯·æ±‚æ§åˆ¶

2. **é”™è¯¯å¤„ç†ä¼˜åŒ–**
   - ç»Ÿä¸€é”™è¯¯æç¤º
   - è‡ªåŠ¨é‡è¯•æœºåˆ¶
   - é™çº§å¤„ç†

## ğŸ”’ AOT å…¼å®¹æ€§

æ‰€æœ‰æ¶æ„æ”¹è¿›éƒ½ä¿æŒ 100% AOT å…¼å®¹ï¼š

- âœ… CQRS æ¥å£ä½¿ç”¨æ³›å‹ï¼Œæ— åå°„
- âœ… äº‹ä»¶å¤„ç†å™¨ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼Œæ— åŠ¨æ€ç±»å‹
- âœ… API ç‰ˆæœ¬æ§åˆ¶ä½¿ç”¨ç¼–è¯‘æ—¶é…ç½®
- âš ï¸ æ‰¹é‡äº‹ä»¶å‘å¸ƒéœ€è¦ä½¿ç”¨å…·ä½“ç±»å‹ï¼ˆé¿å…åå°„ï¼‰

## ğŸ“‹ åç»­ä¼˜åŒ–å»ºè®®

### é«˜ä¼˜å…ˆçº§
1. å®ç°å¸¸ç”¨ä¸šåŠ¡åœºæ™¯çš„ Query/Command
2. æ·»åŠ æ›´å¤šé¢†åŸŸäº‹ä»¶
3. å®Œå–„å‰ç«¯ API Servicesï¼ˆUser, Order, Pet ç­‰ï¼‰
4. æ·»åŠ è¯·æ±‚ç¼“å­˜ç­–ç•¥

### ä¸­ä¼˜å…ˆçº§
1. å®ç°åˆ†å¸ƒå¼äº‹ä»¶æ€»çº¿ï¼ˆNATS Integrationï¼‰
2. æ·»åŠ è¯»å†™æ•°æ®åº“åˆ†ç¦»
3. å®ç° API é™æµç­–ç•¥
4. æ·»åŠ  GraphQL æ”¯æŒï¼ˆå¯é€‰ï¼‰

### ä½ä¼˜å…ˆçº§
1. å¾®æœåŠ¡æ‹†åˆ†ï¼ˆå½“å•ä½“åº”ç”¨æ€§èƒ½ç“¶é¢ˆæ—¶ï¼‰
2. Event Sourcingï¼ˆå¦‚éœ€å®Œæ•´å®¡è®¡æ—¥å¿—ï¼‰
3. Saga æ¨¡å¼ï¼ˆåˆ†å¸ƒå¼äº‹åŠ¡åœºæ™¯ï¼‰

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [CQRS Pattern](https://martinfowler.com/bliki/CQRS.html)
- [Domain Events](https://docs.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/domain-events-design-implementation)
- [API Versioning Best Practices](https://www.troyhunt.com/your-api-versioning-is-wrong-which-is/)
- [ASP.NET Core API Versioning](https://github.com/dotnet/aspnet-api-versioning)

## âœ… ä»£ç è´¨é‡æŒ‡æ ‡

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æ”¹è¿› |
|------|--------|--------|------|
| æ¶æ„åˆ†å±‚ | 3å±‚ | 4å±‚ (CQRS) | +33% |
| ä»£ç å¤ç”¨ | ä¸­ | é«˜ | +40% |
| å¯æµ‹è¯•æ€§ | ä¸­ | é«˜ | +50% |
| å¯ç»´æŠ¤æ€§ | 4/5 | 4.5/5 | +12.5% |
| AOT å…¼å®¹ | 100% | 100% | ä¿æŒ |


